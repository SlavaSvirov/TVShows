(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,a){e.exports={TvShowsContainer:"TVShows_TvShowsContainer__q0Svf"}},113:function(e,t,a){e.exports={episodeContainer:"Episodes_episodeContainer__zxVFo"}},122:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(5),s=a(0),r=a.n(s),c=a(20),i=a.n(c),o=(a(122),a(67)),l=a(14),u=a(49),d=a(45),p=a(43),j={episodes:[],serials:[],text:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EPISODES":return Object(p.a)(Object(p.a)({},e),{},{episodes:t.payload});case"SET_SERIALS":return Object(p.a)(Object(p.a)({},e),{},{serials:t.payload});case"SET_TEXT":return Object(p.a)(Object(p.a)({},e),{},{text:t.payload});default:return e}},A=a(99),m=a(100),f=Object(d.createStore)(b,Object(A.composeWithDevTools)(Object(d.applyMiddleware)(m.a))),h=(a(127),a(74)),v=a.n(h),O=a(33),x=a.n(O),S=a(46),w=a(17),g=a(156),y=a(158),_=a(157),E=a(159),T=a(75),C=a.n(T);var N=function(e){var t=e.onChange,a=e.filterByImage,s=e.placeholder;return e.text,Object(n.jsxs)("div",{className:C.a.inputBar,children:[Object(n.jsx)(_.a,{type:"search",className:C.a.inputRow,onChange:t,placeholder:s,autoFocus:!0}),Object(n.jsx)(E.a,{className:C.a.checkboxCustom,onChange:a,children:"\u0421 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438"})]})},V=a(79),X=a.n(V),k="data:image/png;base64,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";var q=function(e){var t=e.name,a=e.img,s=e.rating,r=e.id,c=e.openModal;return Object(n.jsx)("div",{className:X.a.serialContainer,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:X.a.showImage,onClick:function(){return c(r)},src:a&&a.medium||k,alt:t}),Object(n.jsxs)("div",{children:[t," ",s]})]})})},P=a(40),F=a(106),D=a.n(F).a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),L=a(80),U=a.n(L),I=function(e){var t=e.video;if(!t)return Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{})});var a="https://www.youtube.com/embed/".concat(t.id.videoId);return Object(n.jsx)("div",{className:U.a.videoPlayer,children:Object(n.jsx)("iframe",{className:U.a.video,src:a,frameBorder:"0",allowFullScreen:!0})})},z=a(81),R=a.n(z),Z=function(e){var t=e.item,a=r.a.useState([]),s=Object(w.a)(a,2),c=(s[0],s[1]),i=r.a.useState(null),l=Object(w.a)(i,2),u=l[0],d=l[1],p=t.show.summary&&t.show.summary.replace(/<[^>]*>/g,""),j=new Date(t.show.premiered);return r.a.useEffect((function(){Object(S.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get("search",{params:{part:"snippet",maxResult:5,key:"AIzaSyBE_1QtDxWI9VT1qqLvc8R6YdQmx5lVONU",q:"".concat(t.show.name," trailer")}});case 2:a=e.sent,c(a.data.items),d(a.data.items[0]);case 5:case"end":return e.stop()}}),e)})))()}),[t.show.id]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:R.a.trailer,children:Object(n.jsx)(I,{video:u})}),Object(n.jsxs)("span",{children:["year: ",j.toLocaleDateString("ru")]}),Object(n.jsx)("div",{children:p}),Object(n.jsx)("div",{className:R.a.btn,children:Object(n.jsx)(P.a,{type:"primary",onClick:function(){},children:Object(n.jsx)(o.b,{to:"/episodes/".concat(t.show.id),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"})})})]})},G=function(e,t){return t?e.filter((function(e){return!!e.show.image})):e},W=a(108),Y=a.n(W);var M=Object(u.b)((function(e){return{serials:e.serials,text:e.text}}),(function(e){return{setSerials:function(t){return e({type:"SET_SERIALS",payload:t})},setText:function(t){return e({type:"SET_TEXT",payload:t})}}}))((function(e){var t=e.serials,a=e.setSerials,s=e.text,c=e.setText,i=r.a.useState(null),o=Object(w.a)(i,2),l=o[0],u=o[1],d=r.a.useState(!1),p=Object(w.a)(d,2),j=p[0],b=p[1],A=r.a.useState([]),m=Object(w.a)(A,2),f=m[0],h=m[1],v=r.a.useState(!1),O=Object(w.a)(v,2),_=O[0],E=O[1],T=r.a.useState(!1),C=Object(w.a)(T,2),V=C[0],X=C[1],k=r.a.useState(),P=Object(w.a)(k,2),F=P[0],D=P[1];r.a.useEffect((function(){Object(S.a)(x.a.mark((function e(){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.tvmaze.com/search/shows?q=".concat(s));case 3:return n=e.sent,console.log(t),e.next=7,n.json();case 7:r=e.sent,c=G(r,_),a(c),b(!0),h(c),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),b(!0),u(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()}),[s]),r.a.useEffect((function(){var e=t.filter((function(e){var t=e.show.name.toLowerCase();if(!_||e.show.image)return t.includes(s.toLowerCase())}));h(e)}),[_,s]);var L=function(e){if(e){var t=f.find((function(t){return t.show.id===e}));D(t)}X((function(e){return!e}))};return l?Object(n.jsxs)("p",{children:["Error ",l.message," "]}):j?Object(n.jsxs)("div",{className:Y.a.TvShowsContainer,children:[Object(n.jsx)(N,{onChange:function(e){return c(e.target.value)},filterByImage:function(e){return E(e.target.checked)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u0430",text:s}),f.map((function(e){return Object(n.jsx)(q,{id:e.show.id,name:e.show.name,img:e.show.image,openModal:L},e.show.id)})),Object(n.jsx)(y.a,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0421\u0435\u0440\u0438\u0430\u043b\u0430",visible:V,onOk:L,onCancel:L,children:Object(n.jsx)(Z,{item:F})})]}):Object(n.jsx)(g.a,{})})),B=a(113),Q=a.n(B),H=a(54),J=a(4),K=a.n(J),$=a(34),ee=a.n($),te=function(e){var t=e.name,a=e.img,s=e.summary||"\u0431\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",c=r.a.useState(s.slice(0,100)),i=Object(w.a)(c,2),o=i[0],l=i[1],u=r.a.useState(!1),d=Object(w.a)(u,2),p=d[0],j=d[1],b=s.length>100;return Object(n.jsxs)("div",{className:ee.a.episodeContainer,children:[Object(n.jsxs)("div",{className:ee.a.everyEpisode,children:[Object(n.jsx)("img",{className:ee.a.imageEpisode,src:a&&a.original||k,alt:t}),Object(n.jsx)("div",{className:ee.a.episodeTitle,children:t})]}),Object(n.jsxs)("div",{className:ee.a.descriptionDesk,children:[Object(n.jsx)("p",{className:K()(Object(H.a)({},ee.a.description,p),Object(H.a)({},ee.a.ellips,!p)),children:o.replace(/<[^>]*>/g,"")}),Object(n.jsx)("div",{className:"btn",children:b&&Object(n.jsx)(P.a,{className:ee.a.buttonRoll,type:"primary",onClick:function(){l(p?s.slice(0,100):s),j((function(e){return!e}))},children:p?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"})})]})]})};var ae=Object(u.b)((function(e){return{episodes:e.episodes}}),(function(e){return{setEpisodes:function(t){return e({type:"SET_EPISODES",payload:t})}}}))((function(e){var t=r.a.useState(null),a=Object(w.a)(t,2),s=a[0],c=a[1],i=r.a.useState(!1),o=Object(w.a)(i,2),l=o[0],u=o[1],d=r.a.useState(!1),p=Object(w.a)(d,2),j=p[0],b=p[1],A=r.a.useState(""),m=Object(w.a)(A,2),f=m[0],h=m[1],v=r.a.useState([]),O=Object(w.a)(v,2),y=O[0],_=O[1];r.a.useEffect((function(){Object(S.a)(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.tvmaze.com/shows/".concat(e.match.params.id,"/episodes"));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.setEpisodes(n),u(!0),_(n),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),u(!0),c(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()}),[]),r.a.useEffect((function(){var t=e.episodes.filter((function(e){var t=e.name.toLowerCase();if(!j||e.image)return t.includes(f.toLowerCase())}));_(t)}),[j,f]);return s?Object(n.jsxs)("p",{children:["Error ",s.message," "]}):l?Object(n.jsxs)("div",{className:Q.a.episodeContainer,children:[Object(n.jsx)(N,{onChange:function(e){return h(e.target.value)},filterByImage:function(e){return b(e.target.checked)},placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u044d\u043f\u0438\u0437\u043e\u0434\u0430\u043c"}),Object(n.jsx)("div",{children:e.valueFromStore}),Object(n.jsx)("div",{children:y.map((function(e){return Object(n.jsx)(te,{name:e.name,img:e.image,summary:e.summary},e.id)}))})]}):Object(n.jsx)(g.a,{})}));var ne=function(){return Object(n.jsx)(u.a,{store:f,children:Object(n.jsx)("div",{className:v.a.App,children:Object(n.jsx)("div",{className:v.a.content,children:Object(n.jsx)(o.a,{basename:"/TVShows",children:Object(n.jsxs)("section",{className:v.a.serialList,children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:M}),Object(n.jsx)(l.a,{path:"/episodes/:id",component:ae})]})})})})})};i.a.render(Object(n.jsx)(ne,{}),document.getElementById("root"))},34:function(e,t,a){e.exports={episodeContainer:"Episode_episodeContainer__3kybG",episodeTitle:"Episode_episodeTitle__1tNhF",descriptionDesk:"Episode_descriptionDesk__1crvc",btn:"Episode_btn__2NPMX",imageEpisode:"Episode_imageEpisode__3stfX",description:"Episode_description__2TN8l",ellips:"Episode_ellips__2yC6I",everyEpisode:"Episode_everyEpisode__oV0Jk"}},74:function(e,t,a){e.exports={App:"App_App__3Lal-",serialList:"App_serialList__24zN4",content:"App_content__3FkUW"}},75:function(e,t,a){e.exports={inputBar:"Search_inputBar__N8vy7",checkboxCustom:"Search_checkboxCustom__1qz32","input-row":"Search_input-row__1LNZ5",checkboxOff:"Search_checkboxOff__2tAf5"}},79:function(e,t,a){e.exports={serialContainer:"Serial_serialContainer__2cUFL",showImage:"Serial_showImage__1F8nO"}},80:function(e,t,a){e.exports={videoPlayer:"Trailer_videoPlayer__2E_-3",video:"Trailer_video__3fL9z"}},81:function(e,t,a){e.exports={btn:"ModalContent_btn__1Lpd5"}}},[[154,1,2]]]);
//# sourceMappingURL=main.abd71663.chunk.js.map