(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,a){e.exports={TvShowsContainer:"TVShows_TvShowsContainer__3DVT-"}},113:function(e,t,a){e.exports={episodeContainer:"Episodes_episodeContainer__D3wfl"}},122:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(5),s=a(0),r=a.n(s),c=a(20),i=a.n(c),o=(a(122),a(67)),u=a(14),l=a(47),d=a(43),p=a(57),j={episodes:[],serials:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EPISODES":return Object(p.a)(Object(p.a)({},e),{},{episodes:t.payload});case"SET_SERIALS":return Object(p.a)(Object(p.a)({},e),{},{serials:t.payload});default:return e}},A=a(99),m=a(100),f=Object(d.createStore)(b,Object(A.composeWithDevTools)(Object(d.applyMiddleware)(m.a))),h=(a(127),a(74)),v=a.n(h),O=a(33),x=a.n(O),w=a(44),S=a(16),g=a(156),y=a(158),C=a(101),E=a.n(C),_=a(79),V=a.n(_),P="data:image/png;base64,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";var q=function(e){var t=e.name,a=e.img,s=e.rating,r=e.id,c=e.openModal;return Object(n.jsx)("div",{className:V.a.serialContainer,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:V.a.showImage,onClick:function(){return c(r)},src:a&&a.medium||P,alt:t}),Object(n.jsxs)("div",{children:[t," ",s]})]})})},T=a(157),N=a(159),X=a(75),k=a.n(X);var D=function(e){var t=e.onChange,a=e.filterByImage,s=e.placeholder;return e.text,Object(n.jsxs)("div",{className:k.a.inputBar,children:[Object(n.jsx)(T.a,{className:k.a.inputRow,onChange:t,placeholder:s,size:"800px"}),Object(n.jsx)(N.a,{className:k.a.checkboxCustom,onChange:a,children:"\u0421 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438"})]})},R=a(39),I=a(107),U=a.n(I).a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),Z=a(80),F=a.n(Z),L=function(e){var t=e.video;if(!t)return Object(n.jsx)("div",{children:Object(n.jsx)(g.a,{})});console.log(t.id.videoId);var a="https://www.youtube.com/embed/".concat(t.id.videoId);return Object(n.jsx)("div",{className:F.a.videoPlayer,children:Object(n.jsx)("iframe",{className:F.a.video,src:a,frameBorder:"0",allowFullScreen:!0})})},z=a(81),W=a.n(z),G=function(e){var t=e.item,a=r.a.useState([]),s=Object(S.a)(a,2),c=(s[0],s[1]),i=r.a.useState(null),u=Object(S.a)(i,2),l=u[0],d=u[1],p=t.show.summary&&t.show.summary.replace(/<[^>]*>/g,""),j=new Date(t.show.premiered);return r.a.useEffect((function(){Object(w.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("search",{params:{part:"snippet",maxResult:5,key:"AIzaSyBE_1QtDxWI9VT1qqLvc8R6YdQmx5lVONU",q:"".concat(t.show.name," trailer")}});case 2:a=e.sent,console.log(a.data.items[0]),c(a.data.items),d(a.data.items[0]);case 6:case"end":return e.stop()}}),e)})))(),console.log(l)}),[t.show.id]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:W.a.trailer,children:Object(n.jsx)(L,{video:l})}),Object(n.jsxs)("span",{children:["year: ",j.toLocaleDateString("ru")]}),Object(n.jsx)("div",{children:p}),Object(n.jsx)("div",{className:W.a.btn,children:Object(n.jsx)(R.a,{type:"primary",onClick:function(){},children:Object(n.jsx)(o.b,{to:"/episodes/".concat(t.show.id),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"})})})]})};var Y=Object(l.b)((function(e){return{serials:e.serials}}),(function(e){return{setSerials:function(t){return e({type:"SET_SERIALS",payload:t})}}}))((function(e){var t=r.a.useState(null),a=Object(S.a)(t,2),s=a[0],c=a[1],i=r.a.useState(!1),o=Object(S.a)(i,2),u=o[0],l=o[1],d=r.a.useState([]),p=Object(S.a)(d,2),j=p[0],b=p[1],A=r.a.useState(!1),m=Object(S.a)(A,2),f=m[0],h=m[1],v=r.a.useState(""),O=Object(S.a)(v,2),C=O[0],_=O[1],V=r.a.useState(!1),P=Object(S.a)(V,2),T=P[0],N=P[1],X=r.a.useState(),k=Object(S.a)(X,2),R=k[0],I=k[1];r.a.useEffect((function(){}),[]),r.a.useEffect((function(){Object(w.a)(x.a.mark((function t(){var a,n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.tvmaze.com/search/shows?q=".concat(C));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,r=n,s=f?r.filter((function(e){return!!e.show.image})):r,e.setSerials(s),l(!0),b(s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),l(!0),c(t.t0);case 17:case"end":return t.stop()}var r}),t,null,[[0,13]])})))()}),[C]),r.a.useEffect((function(){var t=e.serials.filter((function(e){var t=e.show.name.toLowerCase();if(!f||e.show.image)return t.includes(C.toLowerCase())}));b(t)}),[f,C]);var U=function(e){if(e){var t=j.find((function(t){return t.show.id===e}));I(t)}N((function(e){return!e}))};return s?Object(n.jsxs)("p",{children:["Error ",s.message," "]}):u?Object(n.jsxs)("div",{className:E.a.TvShowsContainer,children:[Object(n.jsx)(D,{onChange:function(e){return _(e.target.value)},filterByImage:function(e){return h(e.target.checked)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u0430",text:C}),j.map((function(e){return Object(n.jsx)(q,{id:e.show.id,name:e.show.name,img:e.show.image,openModal:U},e.show.id)})),Object(n.jsx)(y.a,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0421\u0435\u0440\u0438\u0430\u043b\u0430",visible:T,onOk:U,onCancel:U,children:Object(n.jsx)(G,{item:R})})]}):Object(n.jsx)(g.a,{})})),M=a(113),Q=a.n(M),B=a(60),H=a(4),J=a.n(H),K=a(50),$=a.n(K),ee=function(e){var t=e.name,a=e.img,s=e.summary||"\u0431\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",c=r.a.useState(s.slice(0,100)),i=Object(S.a)(c,2),o=i[0],u=i[1],l=r.a.useState(!1),d=Object(S.a)(l,2),p=d[0],j=d[1],b=s.length>100;return Object(n.jsxs)("div",{className:$.a.episodeContainer,children:[Object(n.jsxs)("div",{className:$.a.everyEpisode,children:[Object(n.jsx)("img",{className:$.a.imageEpisode,src:a&&a.medium||P,alt:t}),Object(n.jsx)("div",{children:t})]}),Object(n.jsx)("p",{className:J()(Object(B.a)({},$.a.ellips,!p)),children:o.replace(/<[^>]*>/g,"")}),Object(n.jsx)("div",{className:"btn",children:b&&Object(n.jsx)(R.a,{className:$.a.buttonRoll,type:"primary",onClick:function(){u(p?s.slice(0,100):s),j((function(e){return!e}))},children:p?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"})})]})};var te=Object(l.b)((function(e){return{episodes:e.episodes}}),(function(e){return{setEpisodes:function(t){return e({type:"SET_EPISODES",payload:t})}}}))((function(e){var t=r.a.useState(null),a=Object(S.a)(t,2),s=a[0],c=a[1],i=r.a.useState(!1),o=Object(S.a)(i,2),u=o[0],l=o[1],d=r.a.useState(!1),p=Object(S.a)(d,2),j=p[0],b=p[1],A=r.a.useState(""),m=Object(S.a)(A,2),f=m[0],h=m[1],v=r.a.useState([]),O=Object(S.a)(v,2),y=O[0],C=O[1];r.a.useEffect((function(){Object(w.a)(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.tvmaze.com/shows/".concat(e.match.params.id,"/episodes"));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.setEpisodes(n),l(!0),C(n),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),l(!0),c(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()}),[]),r.a.useEffect((function(){var t=e.episodes.filter((function(e){var t=e.name.toLowerCase();if(!j||e.image)return t.includes(f.toLowerCase())}));C(t)}),[j,f]);return s?Object(n.jsxs)("p",{children:["Error ",s.message," "]}):u?Object(n.jsxs)("div",{className:Q.a.episodeContainer,children:[Object(n.jsx)(D,{onChange:function(e){return h(e.target.value)},filterByImage:function(e){return b(e.target.checked)},placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u044d\u043f\u0438\u0437\u043e\u0434\u0430\u043c"}),Object(n.jsx)("div",{children:e.valueFromStore}),Object(n.jsx)("div",{children:y.map((function(e){return Object(n.jsx)(ee,{name:e.name,img:e.image,summary:e.summary},e.id)}))})]}):Object(n.jsx)(g.a,{})}));var ae=function(){return Object(n.jsx)(l.a,{store:f,children:Object(n.jsx)("div",{className:v.a.App,children:Object(n.jsx)("div",{className:v.a.content,children:Object(n.jsx)(o.a,{basename:"/TVShows",children:Object(n.jsxs)("section",{className:v.a.serialList,children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:Y}),Object(n.jsx)(u.a,{path:"/episodes/:id",component:te})]})})})})})};i.a.render(Object(n.jsx)(ae,{}),document.getElementById("root"))},50:function(e,t,a){e.exports={episodeContainer:"Episode_episodeContainer__1xrvr",btn:"Episode_btn__2CUhR",imageEpisode:"Episode_imageEpisode__3JCVg",ellips:"Episode_ellips__3s7iQ",buttonRoll:"Episode_buttonRoll__K7M3A"}},74:function(e,t,a){e.exports={App:"App_App__2rPuD",serialList:"App_serialList__2qI8g",content:"App_content__35ZNh"}},75:function(e,t,a){e.exports={inputBar:"Search_inputBar__3QRWK",checkboxCustom:"Search_checkboxCustom__hKHd_","input-row":"Search_input-row__2p7Da",checkboxOff:"Search_checkboxOff__17Wna"}},79:function(e,t,a){e.exports={serialContainer:"Serial_serialContainer__1jmuP",showImage:"Serial_showImage__PEb6u"}},80:function(e,t,a){e.exports={videoPlayer:"Trailer_videoPlayer__qc2rq",video:"Trailer_video__3pQr5"}},81:function(e,t,a){e.exports={btn:"ModalContent_btn__1gxfj"}}},[[154,1,2]]]);
//# sourceMappingURL=main.ebd09bf4.chunk.js.map