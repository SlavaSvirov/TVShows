(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,a){e.exports={genresPanel:"Genres_genresPanel__2gItY",genresList:"Genres_genresList__1pF7Z"}},124:function(e,t,a){e.exports={episodeContainer:"Episodes_episodeContainer__zxVFo"}},136:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a(0),r=a.n(s),c=a(19),i=a.n(c),o=(a(136),a(79)),l=a(18),u=a(62),d=a(58),p=a(55),j={episodes:[],serials:[],text:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EPISODES":return Object(p.a)(Object(p.a)({},e),{},{episodes:t.payload});case"SET_SERIALS":return Object(p.a)(Object(p.a)({},e),{},{serials:t.payload});case"SET_TEXT":return Object(p.a)(Object(p.a)({},e),{},{text:t.payload});default:return e}},f=a(112),h=a(113),m=Object(d.createStore)(b,Object(f.composeWithDevTools)(Object(d.applyMiddleware)(h.a))),A=(a(141),a(87)),O=a.n(A),v=a(37),x=a.n(v),g=a(59),S=a(17),_=a(170),w=a(173),y=a(172),C=a(174),E=a(88),T=a.n(E);var N=function(e){var t=e.onChange,a=e.filterByImage,s=e.placeholder;return e.text,Object(n.jsxs)("div",{className:T.a.inputBar,children:[Object(n.jsx)(y.a,{type:"search",className:T.a.inputRow,onChange:t,placeholder:s,autoFocus:!0}),Object(n.jsx)(C.a,{className:T.a.checkboxCustom,onChange:a,children:"\u0421 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438"})]})},V=a(89),P=a.n(V),X="data:image/png;base64,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";var k=function(e){var t=e.name,a=e.img,s=e.id,r=e.openModal;return Object(n.jsx)("div",{className:P.a.serialContainer,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:P.a.showImage,onClick:function(){return r(s)},src:a&&a.medium||X,alt:t}),Object(n.jsx)("div",{className:P.a.title,children:t})]})})},q=a(48),F=a(116),L=a.n(F).a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),D=a(93),U=a.n(D),I=function(e){var t=e.video;if(!t)return Object(n.jsx)("div",{children:Object(n.jsx)(_.a,{})});var a="https://www.youtube.com/embed/".concat(t.id.videoId);return Object(n.jsx)("div",{className:U.a.videoPlayer,children:Object(n.jsx)("iframe",{className:U.a.video,src:a,frameBorder:"0",allowFullScreen:!0})})},Z=a(94),z=a.n(Z),R=function(e){var t=e.item,a=r.a.useState([]),s=Object(S.a)(a,2),c=(s[0],s[1]),i=r.a.useState(null),l=Object(S.a)(i,2),u=l[0],d=l[1],p=t.show.summary&&t.show.summary.replace(/<[^>]*>/g,""),j=new Date(t.show.premiered);return r.a.useEffect((function(){Object(g.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("search",{params:{part:"snippet",maxResult:5,key:"AIzaSyBE_1QtDxWI9VT1qqLvc8R6YdQmx5lVONU",q:"".concat(t.show.name," trailer")}});case 2:a=e.sent,c(a.data.items),d(a.data.items[0]);case 5:case"end":return e.stop()}}),e)})))()}),[t.show.id]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:z.a.trailer,children:Object(n.jsx)(I,{video:u})}),Object(n.jsxs)("span",{children:["year: ",j.toLocaleDateString("ru")]}),Object(n.jsx)("div",{children:p}),Object(n.jsx)("div",{className:z.a.btn,children:Object(n.jsx)(q.a,{type:"primary",onClick:function(){},children:Object(n.jsx)(o.b,{to:"/episodes/".concat(t.show.id),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"})})})]})},G=function(e,t){return t?e.filter((function(e){return!!e.show.image})):e},Y=a(97),W=a.n(Y),M=a(171),B=a(118),Q=a.n(B),H=M.a.Option,J=function(e){var t=e.onChange,a=r.a.useState("default"),s=Object(S.a)(a,2),c=s[0];s[1];return Object(n.jsx)("div",{className:Q.a.genresList,children:Object(n.jsxs)(M.a,{mode:"multiple",size:c,placeholder:"Please select",defaultValue:[],onChange:t,style:{width:"100%"},children:[Object(n.jsx)(H,{children:" Drama "},"Drama"),Object(n.jsx)(H,{children:" Action "},"Action"),Object(n.jsx)(H,{children:" Fantasy "},"Fantasy"),Object(n.jsx)(H,{children:" Comedy"},"Comedy")]})})};var K=Object(u.b)((function(e){return{serials:e.serials,text:e.text}}),(function(e){return{setSerials:function(t){return e({type:"SET_SERIALS",payload:t})},setText:function(t){return e({type:"SET_TEXT",payload:t})}}}))((function(e){var t=e.serials,a=e.setSerials,s=e.text,c=e.setText,i=r.a.useState(null),o=Object(S.a)(i,2),l=o[0],u=o[1],d=r.a.useState(!1),p=Object(S.a)(d,2),j=p[0],b=p[1],f=r.a.useState([]),h=Object(S.a)(f,2),m=h[0],A=h[1],O=r.a.useState([]),v=Object(S.a)(O,2),y=v[0],C=v[1],E=r.a.useState(!1),T=Object(S.a)(E,2),V=T[0],P=T[1],X=r.a.useState(!1),q=Object(S.a)(X,2),F=q[0],L=q[1],D=r.a.useState(),U=Object(S.a)(D,2),I=U[0],Z=U[1];r.a.useEffect((function(){Object(g.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.tvmaze.com/search/shows?q=".concat(s));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=G(n,V),a(r),b(!0),A(r),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),b(!0),u(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[s]),r.a.useEffect((function(){var e=t.filter((function(e){var t=e.show.name.toLowerCase();if(!V||e.show.image)return t.includes(s.toLowerCase())}));A(e)}),[V,s]),r.a.useEffect((function(){if(console.log(y),y.length){var e=t.filter((function(e){return e.show.genres.some((function(e,t){return e===y[t]}))}));A(e),console.log(t)}else A(t)}),[y]);var z=function(e){if(e){var t=m.find((function(t){return t.show.id===e}));Z(t)}L((function(e){return!e}))};return l?Object(n.jsxs)("p",{children:["Error ",l.message," "]}):j?Object(n.jsxs)("div",{className:W.a.TvShowsContainer,children:[Object(n.jsx)(N,{onChange:function(e){return c(e.target.value)},filterByImage:function(e){return P(e.target.checked)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u0430",text:s}),Object(n.jsx)(J,{onChange:function(e){return C(e)}}),Object(n.jsx)("div",{className:W.a.serialsContainer,children:m.map((function(e){return Object(n.jsx)(k,{id:e.show.id,name:e.show.name,img:e.show.image,openModal:z},e.show.id)}))}),Object(n.jsx)(w.a,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0421\u0435\u0440\u0438\u0430\u043b\u0430",visible:F,onOk:z,onCancel:z,children:Object(n.jsx)(R,{item:I})})]}):Object(n.jsx)(_.a,{})})),$=a(124),ee=a.n($),te=a(68),ae=a(5),ne=a.n(ae),se=a(39),re=a.n(se),ce=function(e){var t=e.name,a=e.img,s=e.summary||"\u0431\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",c=r.a.useState(s.slice(0,100)),i=Object(S.a)(c,2),o=i[0],l=i[1],u=r.a.useState(!1),d=Object(S.a)(u,2),p=d[0],j=d[1],b=s.length>100;return Object(n.jsxs)("div",{className:re.a.episodeContainer,children:[Object(n.jsxs)("div",{className:re.a.everyEpisode,children:[Object(n.jsx)("img",{className:re.a.imageEpisode,src:a&&a.original||X,alt:t}),Object(n.jsx)("div",{className:re.a.episodeTitle,children:t})]}),Object(n.jsxs)("div",{className:re.a.descriptionDesk,children:[Object(n.jsx)("p",{className:ne()(Object(te.a)({},re.a.description,p),Object(te.a)({},re.a.ellips,!p)),children:o.replace(/<[^>]*>/g,"")}),Object(n.jsx)("div",{className:"btn",children:b&&Object(n.jsx)(q.a,{className:re.a.buttonRoll,type:"primary",onClick:function(){l(p?s.slice(0,100):s),j((function(e){return!e}))},children:p?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"})})]})]})};var ie=Object(u.b)((function(e){return{episodes:e.episodes}}),(function(e){return{setEpisodes:function(t){return e({type:"SET_EPISODES",payload:t})}}}))((function(e){var t=r.a.useState(null),a=Object(S.a)(t,2),s=a[0],c=a[1],i=r.a.useState(!1),o=Object(S.a)(i,2),l=o[0],u=o[1],d=r.a.useState(!1),p=Object(S.a)(d,2),j=p[0],b=p[1],f=r.a.useState(""),h=Object(S.a)(f,2),m=h[0],A=h[1],O=r.a.useState([]),v=Object(S.a)(O,2),w=v[0],y=v[1];r.a.useEffect((function(){Object(g.a)(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.tvmaze.com/shows/".concat(e.match.params.id,"/episodes"));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.setEpisodes(n),u(!0),y(n),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),u(!0),c(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()}),[]),r.a.useEffect((function(){var t=e.episodes.filter((function(e){var t=e.name.toLowerCase();if(!j||e.image)return t.includes(m.toLowerCase())}));y(t)}),[j,m]);return s?Object(n.jsxs)("p",{children:["Error ",s.message," "]}):l?Object(n.jsxs)("div",{className:ee.a.episodeContainer,children:[Object(n.jsx)(N,{onChange:function(e){return A(e.target.value)},filterByImage:function(e){return b(e.target.checked)},placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u044d\u043f\u0438\u0437\u043e\u0434\u0430\u043c"}),Object(n.jsx)("div",{children:e.valueFromStore}),Object(n.jsx)("div",{children:w.map((function(e){return Object(n.jsx)(ce,{name:e.name,img:e.image,summary:e.summary},e.id)}))})]}):Object(n.jsx)(_.a,{})}));var oe=function(){return Object(n.jsx)(u.a,{store:m,children:Object(n.jsx)("div",{className:O.a.App,children:Object(n.jsx)("div",{className:O.a.content,children:Object(n.jsx)(o.a,{basename:"/TVShows",children:Object(n.jsxs)("section",{className:O.a.serialList,children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:K}),Object(n.jsx)(l.a,{path:"/episodes/:id",component:ie})]})})})})})};i.a.render(Object(n.jsx)(oe,{}),document.getElementById("root"))},39:function(e,t,a){e.exports={episodeContainer:"Episode_episodeContainer__3kybG",episodeTitle:"Episode_episodeTitle__1tNhF",descriptionDesk:"Episode_descriptionDesk__1crvc",btn:"Episode_btn__2NPMX",imageEpisode:"Episode_imageEpisode__3stfX",description:"Episode_description__2TN8l",ellips:"Episode_ellips__2yC6I",everyEpisode:"Episode_everyEpisode__oV0Jk"}},87:function(e,t,a){e.exports={App:"App_App__3Lal-",serialList:"App_serialList__24zN4",content:"App_content__3FkUW"}},88:function(e,t,a){e.exports={inputBar:"Search_inputBar__N8vy7",checkboxCustom:"Search_checkboxCustom__1qz32","input-row":"Search_input-row__1LNZ5",checkboxOff:"Search_checkboxOff__2tAf5"}},89:function(e,t,a){e.exports={serialContainer:"Serial_serialContainer__2cUFL",showImage:"Serial_showImage__1F8nO",title:"Serial_title__3dcPE"}},93:function(e,t,a){e.exports={videoPlayer:"Trailer_videoPlayer__2E_-3",video:"Trailer_video__3fL9z"}},94:function(e,t,a){e.exports={btn:"ModalContent_btn__1Lpd5"}},97:function(e,t,a){e.exports={TvShowsContainer:"TVShows_TvShowsContainer__q0Svf",serialsContainer:"TVShows_serialsContainer__TBUZy"}}},[[168,1,2]]]);
//# sourceMappingURL=main.680a95ad.chunk.js.map